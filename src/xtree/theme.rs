#[derive(Clone, Copy)]
pub struct Theme {
    pub reset: &'static str,
    pub dir: &'static str,
    pub file: &'static str,
    pub exec: &'static str,
    pub link: &'static str,
    pub size: &'static str,
    pub meta: &'static str,
    pub content: &'static str,
    pub header: &'static str,
    pub warn: &'static str,
    pub test: &'static str,
    pub count: &'static str,
}

impl Theme {
    pub fn plain() -> Self {
        Self {
            reset: "",
            dir: "",
            file: "",
            exec: "",
            link: "",
            size: "",
            meta: "",
            content: "",
            header: "",
            warn: "",
            test: "",
            count: "",
        }
    }

    pub fn resolve(name: &str) -> Self {
        match name {
            "nord" => Self {
                reset: "\x1b[0m",
                dir: "\x1b[38;5;81m",
                file: "\x1b[38;5;216m",
                exec: "\x1b[38;5;150m",
                link: "\x1b[38;5;139m",
                size: "\x1b[38;5;179m",
                meta: "\x1b[38;5;109m",
                content: "\x1b[38;5;144m",
                header: "\x1b[1;38;5;143m",
                warn: "\x1b[1;38;5;204m",
                test: "\x1b[1;38;5;158m",
                count: "\x1b[38;5;73m",
            },
            "gruvbox" => Self {
                reset: "\x1b[0m",
                dir: "\x1b[38;5;109m",
                file: "\x1b[38;5;223m",
                exec: "\x1b[38;5;142m",
                link: "\x1b[38;5;175m",
                size: "\x1b[38;5;214m",
                meta: "\x1b[38;5;167m",
                content: "\x1b[38;5;108m",
                header: "\x1b[1;38;5;214m",
                warn: "\x1b[1;38;5;167m",
                test: "\x1b[1;38;5;142m",
                count: "\x1b[38;5;108m",
            },
            "dracula" => Self {
                reset: "\x1b[0m",
                dir: "\x1b[38;5;141m",
                file: "\x1b[38;5;117m",
                exec: "\x1b[38;5;84m",
                link: "\x1b[38;5;212m",
                size: "\x1b[38;5;228m",
                meta: "\x1b[38;5;61m",
                content: "\x1b[38;5;139m",
                header: "\x1b[1;38;5;212m",
                warn: "\x1b[1;38;5;203m",
                test: "\x1b[1;38;5;120m",
                count: "\x1b[38;5;117m",
            },
            "solarized" => Self {
                reset: "\x1b[0m",
                dir: "\x1b[38;5;136m",
                file: "\x1b[38;5;230m",
                exec: "\x1b[38;5;64m",
                link: "\x1b[38;5;166m",
                size: "\x1b[38;5;173m",
                meta: "\x1b[38;5;109m",
                content: "\x1b[38;5;37m",
                header: "\x1b[1;38;5;136m",
                warn: "\x1b[1;38;5;166m",
                test: "\x1b[1;38;5;64m",
                count: "\x1b[38;5;66m",
            },
            "catppuccin" => Self {
                reset: "\x1b[0m",
                dir: "\x1b[38;5;183m",
                file: "\x1b[38;5;225m",
                exec: "\x1b[38;5;115m",
                link: "\x1b[38;5;146m",
                size: "\x1b[38;5;222m",
                meta: "\x1b[38;5;110m",
                content: "\x1b[38;5;152m",
                header: "\x1b[1;38;5;183m",
                warn: "\x1b[1;38;5;210m",
                test: "\x1b[1;38;5;120m",
                count: "\x1b[38;5;116m",
            },
            "tokyonight" => Self {
                reset: "\x1b[0m",
                dir: "\x1b[38;5;111m",
                file: "\x1b[38;5;153m",
                exec: "\x1b[38;5;114m",
                link: "\x1b[38;5;117m",
                size: "\x1b[38;5;180m",
                meta: "\x1b[38;5;244m",
                content: "\x1b[38;5;117m",
                header: "\x1b[1;38;5;147m",
                warn: "\x1b[1;38;5;203m",
                test: "\x1b[1;38;5;114m",
                count: "\x1b[38;5;244m",
            },
            "onedark" => Self {
                reset: "\x1b[0m",
                dir: "\x1b[38;5;75m",
                file: "\x1b[38;5;188m",
                exec: "\x1b[38;5;114m",
                link: "\x1b[38;5;109m",
                size: "\x1b[38;5;180m",
                meta: "\x1b[38;5;242m",
                content: "\x1b[38;5;111m",
                header: "\x1b[1;38;5;111m",
                warn: "\x1b[1;38;5;203m",
                test: "\x1b[1;38;5;114m",
                count: "\x1b[38;5;242m",
            },
            "monokai" => Self {
                reset: "\x1b[0m",
                dir: "\x1b[38;5;81m",
                file: "\x1b[38;5;188m",
                exec: "\x1b[38;5;148m",
                link: "\x1b[38;5;141m",
                size: "\x1b[38;5;227m",
                meta: "\x1b[38;5;240m",
                content: "\x1b[38;5;81m",
                header: "\x1b[1;38;5;227m",
                warn: "\x1b[1;38;5;197m",
                test: "\x1b[1;38;5;148m",
                count: "\x1b[38;5;240m",
            },
            "kanagawa" => Self {
                reset: "\x1b[0m",
                dir: "\x1b[38;5;110m",
                file: "\x1b[38;5;223m",
                exec: "\x1b[38;5;150m",
                link: "\x1b[38;5;180m",
                size: "\x1b[38;5;179m",
                meta: "\x1b[38;5;242m",
                content: "\x1b[38;5;151m",
                header: "\x1b[1;38;5;180m",
                warn: "\x1b[1;38;5;174m",
                test: "\x1b[1;38;5;150m",
                count: "\x1b[38;5;242m",
            },
            "everforest" => Self {
                reset: "\x1b[0m",
                dir: "\x1b[38;5;108m",
                file: "\x1b[38;5;223m",
                exec: "\x1b[38;5;142m",
                link: "\x1b[38;5;109m",
                size: "\x1b[38;5;179m",
                meta: "\x1b[38;5;240m",
                content: "\x1b[38;5;108m",
                header: "\x1b[1;38;5;108m",
                warn: "\x1b[1;38;5;167m",
                test: "\x1b[1;38;5;142m",
                count: "\x1b[38;5;240m",
            },
            "rose-pine" => Self {
                reset: "\x1b[0m",
                dir: "\x1b[38;5;181m",
                file: "\x1b[38;5;224m",
                exec: "\x1b[38;5;151m",
                link: "\x1b[38;5;146m",
                size: "\x1b[38;5;216m",
                meta: "\x1b[38;5;245m",
                content: "\x1b[38;5;181m",
                header: "\x1b[1;38;5;181m",
                warn: "\x1b[1;38;5;217m",
                test: "\x1b[1;38;5;151m",
                count: "\x1b[38;5;245m",
            },
            "ayu" => Self {
                reset: "\x1b[0m",
                dir: "\x1b[38;5;215m",
                file: "\x1b[38;5;223m",
                exec: "\x1b[38;5;114m",
                link: "\x1b[38;5;151m",
                size: "\x1b[38;5;222m",
                meta: "\x1b[38;5;242m",
                content: "\x1b[38;5;215m",
                header: "\x1b[1;38;5;215m",
                warn: "\x1b[1;38;5;203m",
                test: "\x1b[1;38;5;114m",
                count: "\x1b[38;5;242m",
            },
            "nightfox" => Self {
                reset: "\x1b[0m",
                dir: "\x1b[38;5;75m",
                file: "\x1b[38;5;189m",
                exec: "\x1b[38;5;114m",
                link: "\x1b[38;5;117m",
                size: "\x1b[38;5;180m",
                meta: "\x1b[38;5;240m",
                content: "\x1b[38;5;111m",
                header: "\x1b[1;38;5;81m",
                warn: "\x1b[1;38;5;203m",
                test: "\x1b[1;38;5;114m",
                count: "\x1b[38;5;240m",
            },
            _ => Self {
                reset: "\x1b[0m",
                dir: "\x1b[1;34m",
                file: "\x1b[0;37m",
                exec: "\x1b[1;32m",
                link: "\x1b[1;36m",
                size: "\x1b[0;33m",
                meta: "\x1b[0;35m",
                content: "\x1b[0;96m",
                header: "\x1b[1;95m",
                warn: "\x1b[1;31m",
                test: "\x1b[1;92m",
                count: "\x1b[0;36m",
            },
        }
    }
}

pub fn format_size(size: u64) -> String {
    if size < 1024 {
        return format!("{size}B");
    }
    if size < 1024 * 1024 {
        return format!("{}K", size / 1024);
    }
    if size < 1024 * 1024 * 1024 {
        return format!("{}M", size / (1024 * 1024));
    }
    format!("{}G", size / (1024 * 1024 * 1024))
}
